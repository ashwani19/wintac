<!--Search UI-->
<div class="form-inline serch-box">
          <input type="text" class="form-control" id="keyword" placeholder="Search User">
         
          <select class="form-control target " id="order">          
            <option onClick="searchUser()" value="name">Name</option>
            <option onClick="searchUser()" value="address">Address</option>
            <option onClick="searchUser()" value="role">User type</option>
            <option onClick="searchUser()" value="date">Created Date</option>
            <option onClick="searchUser()" value="active">Active</option>
            <option onClick="searchUser()" value="deactive">Inactive</option>
        </select>
         <button type="submit" class="btn btn-primary" onclick="searchUser()">Search</button>  
  </div>

<input type="hidden" name="desc" value="" id="desc"/>
<!--end-->
<p><div class="text-right"><%= link_to "+ Add User", sign_up_path ,:class=>"btn btn-primary"%></div></p>
<div id="search_page">
</div>
<script type="text/javascript">
$( document ).ready(function() {
    sendAjax();
});
function edit_user(user_id){
	
$.ajax({type: "get",url: "/admin/update_user",data: {'user_id' : user_id },success:function(){
  $("#loader").hide();
    
  }
});
}

$('#select-all').click(function(event) {   
    if(this.checked) {
        // Iterate each checkbox
        $(':checkbox').each(function() {
            this.checked = true;                        
        });
    }
    else
    {
    	$(':checkbox').each(function() {
            this.checked = false;                        
        });
    }
});

//Search User code
  $("#keyword").keyup(function(event){
    if(event.keyCode == 13){
      sendAjax();
    }
  });

  $("#keyword").keypress(function(event){
    
      sendAjax();
   
  });

/*  $("#order").change(function() {    
    sendAjax();
  });
*/

   function searchUser()
   {
    sendAjax();
   }
  function sendAjax(){
    var keyword=$("#keyword").val();
    var order=$("#order").val();
    var page=$("#page_no").val()
    //var zip=$("#zip").val();    
    
    $.ajax({ type: 'GET', url: "/search/search_user",data: ({ 'keyword' : keyword,'order' :order,'page': page}),success: function(data){
      $("#loader").hide();
        var order=$("#order").val();

        if(order=='deactive')
        {
          
          $("#d").val("Active")
        }

    } }); 
  }
function searchD(order){
  var keyword=$("#keyword").val();
    var order=order
    var page=$("#page_no").val() 
    
    var desc=$("#desc").val();
    if (desc=='desc')
    {
    $.ajax({ type: 'GET', url: "/search/search_user",data: ({ 'keyword' : keyword,'order' :order,'page': page,'desc': desc}),success: function(data){
      $("#loader").hide();
      $(this).toggleClass( 'caret', 'caret-1');
      $("#desc").val('asc');
    } });  
    }    
    else{
    $.ajax({ type: 'GET', url: "/search/search_user",data: ({ 'keyword' : keyword,'order' :order,'page': page}),success: function(data){
      $("#loader").hide();
      $(this).toggleClass( 'caret-1', 'caret');
      $("#desc").val('desc');
    } });
    } 
}
</script>